<html>
  <head>
    <title>
      GPS Summit
    </title>
  </head>
  <body>
    <h1>Current Address</h1>
    <p id="address">Getting your location...</p>

    <script>
        // Wait for everything to load
        window.onload = function() {
            const addressElement = document.getElementById('address');
            
            // Check if element exists
            if (!addressElement) {
                console.error('Address element not found!');
                return;
            }
            
            // Get current position using browser geolocation
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(async (position) => {
                    try {
                        const lat = position.coords.latitude;
                        const lng = position.coords.longitude;
                        
                        // Use reverse geocoding to get address
                        const response = await fetch(
                            `https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}`
                        );
                        const data = await response.json();
                        
                        addressElement.textContent = data.display_name;
                    } catch (error) {
                        addressElement.textContent = 'Error fetching address: ' + error.message;
                    }
                }, (error) => {
                    addressElement.textContent = 'Location error: ' + error.message;
                });
            } else {
                addressElement.textContent = 'Geolocation not supported by your browser';
            }
        };
    </script>
  </body>
